datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_DATABASE_URL")
}

generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

model User {
    id    BigInt   @id   @unique
    username String
    tags Tag[]
}

model Guild {
    id   BigInt   @id   @unique
    name String
    tags Tag[]
}

model Tag {
    id    String @id @default(uuid())
    user User @relation(fields: [user_id], references: [id], onUpdate: Cascade, onDelete: Cascade)
    guild Guild @relation(fields: [guild_id], references: [id], onUpdate: Cascade, onDelete: Cascade)
    user_id BigInt
    guild_id BigInt
    name String 
    content String 
    created_at DateTime @default(now())
}